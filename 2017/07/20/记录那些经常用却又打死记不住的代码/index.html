<!DOCTYPE html><html lang="zh-cn"><head><meta name="generator" content="Hexo 3.8.0"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=Edge"><meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no"><meta name="format-detection" content="telephone=no"><meta name="format-detection" content="email=no"><meta name="description" content="study life"><meta name="keywords" content="Hexo, Gruntjs, Nodejs, Reactjs, Vuejs"><title>记录那些经常用却又打死记不住的代码(一) - alonealice</title><link rel="stylesheet" href="/css/main_style.min.css"><link rel="icon" href="/favicon.ico"></head><body><input id="navi" type="checkbox"><ul class="main-navication"><li><a href="/"><span>Home</span></a></li><li><a href="https://github.com/earthWo"><span>Github</span></a></li></ul><div class="wrapper" id="wrap"><div class="post-header"><label class="navi-button light" for="navi">MENU</label><img class="background" src="https://img.zcool.cn/community/014177554b6ae7000001bf729a3698.jpg@1280w_1l_0o_100sh.jpg"><div class="post-title"><h1 class="title">记录那些经常用却又打死记不住的代码(一)</h1><ul class="meta"><li><i class="icon icon-author"></i>alonealice</li><li><i class="icon icon-clock"></i>26 Minutes</li><li><i class="icon icon-calendar"></i>2017年7月20日</li></ul></div></div><div class="article-content" style="max-width:800px"><p>在开发过程中，总会遇到很多其实经常写，但又死活记不住(也许是本人比较笨)，每次都需要google的一些代码。这篇文章就是记录那些代码，以方便以后快速找到。</p>
<h2 id="跳转到系统图库页面"><a href="#跳转到系统图库页面" class="headerlink" title="跳转到系统图库页面"></a>跳转到系统图库页面</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Intent albumIntent = new Intent(Intent.ACTION_PICK);</span><br><span class="line">albumIntent.setDataAndType(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, &quot;image/*&quot;);</span><br><span class="line">activity.startActivityForResult(albumIntent, 0);</span><br></pre></td></tr></table></figure>
<h2 id="跳转到系统相机页面"><a href="#跳转到系统相机页面" class="headerlink" title="跳转到系统相机页面"></a>跳转到系统相机页面</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Intent cameraIntent = new Intent(&quot;android.media.action.IMAGE_CAPTURE&quot;);</span><br><span class="line">cameraIntent.putExtra(MediaStore.EXTRA_OUTPUT, Uri.fromFile(new File(fileName)));</span><br><span class="line">activity.startActivityForResult(getImageByCamera, 0);</span><br></pre></td></tr></table></figure>
<h2 id="判断程序是否在后台"><a href="#判断程序是否在后台" class="headerlink" title="判断程序是否在后台"></a>判断程序是否在后台</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ActivityManager activityManager = (ActivityManager) context.getApplicationContext()</span><br><span class="line">                .getSystemService(Context.ACTIVITY_SERVICE);</span><br><span class="line">        String packageName = context.getApplicationContext().getPackageName();</span><br><span class="line">        /**</span><br><span class="line">         * 获取Android设备中所有正在运行的App</span><br><span class="line">         */</span><br><span class="line">        List&lt;ActivityManager.RunningAppProcessInfo&gt; appProcesses = activityManager</span><br><span class="line">                .getRunningAppProcesses();</span><br><span class="line">        if (appProcesses == null)</span><br><span class="line">            return false;</span><br><span class="line">        for (ActivityManager.RunningAppProcessInfo appProcess : appProcesses) &#123;</span><br><span class="line">            if (appProcess.processName.equals(packageName)</span><br><span class="line">                    &amp;&amp; appProcess.importance == ActivityManager.RunningAppProcessInfo.IMPORTANCE_FOREGROUND) &#123;</span><br><span class="line">                return true;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return false;</span><br></pre></td></tr></table></figure>
<h2 id="发送-取消闹钟"><a href="#发送-取消闹钟" class="headerlink" title="发送/取消闹钟"></a>发送/取消闹钟</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Intent intent = new Intent(context, AlarmClockBroadcast.class);</span><br><span class="line">      // FLAG_UPDATE_CURRENT：如果PendingIntent已经存在，保留它并且只替换它的extra数据。</span><br><span class="line">      // FLAG_CANCEL_CURRENT：如果PendingIntent已经存在，那么当前的PendingIntent会取消掉，然后产生一个新的PendingIntent。</span><br><span class="line">      PendingIntent pi = PendingIntent.getBroadcast(context,</span><br><span class="line">              id, intent,</span><br><span class="line">              PendingIntent.FLAG_UPDATE_CURRENT);</span><br><span class="line">      AlarmManager alarmManager = (AlarmManager) context</span><br><span class="line">              .getSystemService(Context.ALARM_SERVICE);</span><br><span class="line"></span><br><span class="line">          // 设置闹钟,当前版本为19（4.4）或以上使用精准闹钟</span><br><span class="line">          if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.KITKAT) &#123;</span><br><span class="line">              alarmManager.setExact(AlarmManager.RTC_WAKEUP, nextTime, pi);</span><br><span class="line">          &#125; else &#123;</span><br><span class="line">              alarmManager.set(AlarmManager.RTC_WAKEUP, nextTime, pi);</span><br><span class="line">          &#125;</span><br><span class="line"></span><br><span class="line">//取消闹钟</span><br><span class="line">           am.cancel(pi);</span><br></pre></td></tr></table></figure>
<h2 id="屏幕宽度高度"><a href="#屏幕宽度高度" class="headerlink" title="屏幕宽度高度"></a>屏幕宽度高度</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">DisplayMetrics dm = context.getResources().getDisplayMetrics();</span><br><span class="line">int width=dm.widthPixels;</span><br><span class="line">int height=dm.heightPixels;</span><br></pre></td></tr></table></figure>
<h2 id="Android获取StatusBar高度"><a href="#Android获取StatusBar高度" class="headerlink" title="Android获取StatusBar高度"></a>Android获取StatusBar高度</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">int x = 0, statusBarHeight = 0;</span><br><span class="line">Class&lt;?&gt; c = Class.forName(&quot;com.android.internal.R$dimen&quot;);</span><br><span class="line">Object obj = c.newInstance();</span><br><span class="line">Field field = c.getField(&quot;status_bar_height&quot;);</span><br><span class="line">x = Integer.parseInt(field.get(obj).toString());</span><br><span class="line">statusBarHeight = context.getResources().getDimensionPixelSize(x);</span><br></pre></td></tr></table></figure>
<h2 id="获取设备的imsi"><a href="#获取设备的imsi" class="headerlink" title="获取设备的imsi"></a>获取设备的imsi</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">TelephonyManager mTelephonyMgr = (TelephonyManager) context.getSystemService(Context.TELEPHONY_SERVICE);</span><br><span class="line">String imsi = mTelephonyMgr.getSubscriberId();</span><br></pre></td></tr></table></figure>
<h2 id="获取设备的imei"><a href="#获取设备的imei" class="headerlink" title="获取设备的imei"></a>获取设备的imei</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">TelephonyManager mTelephonyMgr = (TelephonyManager) context.getSystemService(Context.TELEPHONY_SERVICE);</span><br><span class="line">String imei = mTelephonyMgr.getDeviceId();</span><br></pre></td></tr></table></figure>
<h2 id="获取应用版本和版本号"><a href="#获取应用版本和版本号" class="headerlink" title="获取应用版本和版本号"></a>获取应用版本和版本号</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">String appVersion=context.getPackageManager().getPackageInfo(context.getPackageName(), 0).versionName;</span><br><span class="line">int appVersionCode=context.getPackageManager().getPackageInfo(context.getPackageName(), 0).versionCode;</span><br></pre></td></tr></table></figure>
<h2 id="获取屏幕亮度"><a href="#获取屏幕亮度" class="headerlink" title="获取屏幕亮度"></a>获取屏幕亮度</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ContentResolver resolver = activity.getContentResolver();</span><br><span class="line">int nowBrightnessValue = android.provider.Settings.System.getInt(</span><br><span class="line">					resolver, Settings.System.SCREEN_BRIGHTNESS);</span><br></pre></td></tr></table></figure>
<h2 id="dp转px"><a href="#dp转px" class="headerlink" title="dp转px"></a>dp转px</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">DisplayMetrics dm = context.getResources().getDisplayMetrics();</span><br><span class="line">float density=dm.density;</span><br><span class="line">int px= (int) (dp * density + 0.5f);</span><br></pre></td></tr></table></figure>
<h2 id="px转dp"><a href="#px转dp" class="headerlink" title="px转dp"></a>px转dp</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">DisplayMetrics dm = context.getResources().getDisplayMetrics();</span><br><span class="line">float density=dm.density;</span><br><span class="line">int dp= (int) (px / density + 0.5f);</span><br></pre></td></tr></table></figure>
<h2 id="sp转px"><a href="#sp转px" class="headerlink" title="sp转px"></a>sp转px</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">final float fontScale = context.getResources().getDisplayMetrics().scaledDensity;</span><br><span class="line">int px=(int) (spValue * fontScale + 0.5f);</span><br></pre></td></tr></table></figure>
<h2 id="px转sp"><a href="#px转sp" class="headerlink" title="px转sp"></a>px转sp</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">final float fontScale = context.getResources().getDisplayMetrics().scaledDensity;</span><br><span class="line">int sp=(int) (pxValue / fontScale + 0.5f);</span><br></pre></td></tr></table></figure>
<h2 id="获取缓存文件"><a href="#获取缓存文件" class="headerlink" title="获取缓存文件"></a>获取缓存文件</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">File f =context.getExternalCacheDir();</span><br></pre></td></tr></table></figure>
<h2 id="获取SD卡路径"><a href="#获取SD卡路径" class="headerlink" title="获取SD卡路径"></a>获取SD卡路径</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">File f =context.getExternalCacheDir();</span><br></pre></td></tr></table></figure>
<h2 id="获取根目录文件"><a href="#获取根目录文件" class="headerlink" title="获取根目录文件"></a>获取根目录文件</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">File f = context.getExternalFilesDir(&quot;&quot;);</span><br><span class="line">    if(null==f)&#123;</span><br><span class="line">      f = context.getFilesDir();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h2 id="写文件"><a href="#写文件" class="headerlink" title="写文件"></a>写文件</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">File file = new File(fileName);  </span><br><span class="line">FileOutputStream fos = new FileOutputStream(file);  </span><br><span class="line">byte [] bytes = write.getBytes();</span><br><span class="line">fos.write(bytes);</span><br><span class="line">fos.close();</span><br></pre></td></tr></table></figure>
<h2 id="读文件"><a href="#读文件" class="headerlink" title="读文件"></a>读文件</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">FileInputStream fin = new FileInputStream(fileName);</span><br><span class="line">int length = fin.available();   </span><br><span class="line">byte [] buffer = new byte[length];   </span><br><span class="line">fin.read(buffer);       </span><br><span class="line">fin.close();</span><br></pre></td></tr></table></figure>
<h2 id="读取assets或资源文件"><a href="#读取assets或资源文件" class="headerlink" title="读取assets或资源文件"></a>读取assets或资源文件</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">//InputStream is = activity.getResources().openRawResource(id)</span><br><span class="line">InputStream is = activity.getAssets().open(filePath);</span><br><span class="line">InputStreamReader inputStreamReader;</span><br><span class="line">inputStreamReader = new InputStreamReader(is, &quot;utf-8&quot;);</span><br><span class="line">BufferedReader reader = new BufferedReader(inputStreamReader);</span><br><span class="line">StringBuffer sb = new StringBuffer(&quot;&quot;);</span><br><span class="line">String line;</span><br><span class="line">while ((line = reader.readLine()) != null) &#123;</span><br><span class="line">      sb.append(line);</span><br><span class="line">      sb.append(&quot;\n&quot;);</span><br><span class="line">      &#125;</span><br><span class="line">return sb.toString();</span><br></pre></td></tr></table></figure>
<h2 id="Bitmap保存文件"><a href="#Bitmap保存文件" class="headerlink" title="Bitmap保存文件"></a>Bitmap保存文件</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">FileOutputStream fos = new FileOutputStream(file, false);</span><br><span class="line">bitmap.compress(Bitmap.CompressFormat.JPEG,100, fos);</span><br><span class="line">fos.flush();</span><br><span class="line">fos.close();</span><br></pre></td></tr></table></figure>
<h2 id="Bitmap-Option的设置"><a href="#Bitmap-Option的设置" class="headerlink" title="Bitmap.Option的设置"></a>Bitmap.Option的设置</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">BitmapFactory.Options options = new BitmapFactory.Options();</span><br><span class="line">        options.inJustDecodeBounds = true;//是否只解析边界（true,则解析返回null，但是option有outHeight和outWidth）</span><br><span class="line">        BitmapFactory.decodeFile(res, options);</span><br><span class="line">        options.inPreferredConfig= Bitmap.Config.ARGB_8888;//图片解码时使用的颜色模式(默认8888)</span><br><span class="line">        options.inSampleSize =2;//缩放倍数（整数）</span><br><span class="line">        options.inJustDecodeBounds = false;</span><br><span class="line">        options.inBitmap=bitmap;//是否重用该bitmap</span><br><span class="line">        options.inPremultiplied=true;//如果设置了true(默认是true)，那么返回的图片RGB都会预乘透明通道A后的颜色,</span><br><span class="line">                                        // 系统View或者Canvas绘制图片,不建议设置为fase,否则会抛出异常,</span><br><span class="line">                                        // 这是因为系统会假定所有图像都预乘A通道的已简化绘制时间.</span><br><span class="line">                                        // 设置inPremultiplied的同时,设置inScale会导致绘制的颜色不正确.</span><br><span class="line">        options.inDither=true; // 设置是否抖动处理图片(android N 被废弃)</span><br><span class="line">        options.inMutable=true; // 是否是mutable可变的(BitmapFactory.decodeResource是可变的，BitmapFactory.decodeFile是不可变的)</span><br><span class="line">        options.inScaled=true;  //是否缩放</span><br><span class="line">        options.inDensity=400;  //设置位图的像素密度，即每英寸有多少个像素</span><br><span class="line">        options.inTargetDensity=400;    //设置绘制位图的屏幕密度,与inScale和inDesity一起使用,来对位图进行放缩.</span><br><span class="line">        options.inScreenDensity=400;    //表示正在使用的实际屏幕的像素密度.</span><br></pre></td></tr></table></figure>
<h2 id="Bitmap旋转角度"><a href="#Bitmap旋转角度" class="headerlink" title="Bitmap旋转角度"></a>Bitmap旋转角度</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ExifInterface exif = null;</span><br><span class="line">        int degree = 0;</span><br><span class="line">        try &#123;</span><br><span class="line">            exif = new ExifInterface(imgPath);</span><br><span class="line">        &#125; catch (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            exif = null;</span><br><span class="line">        &#125;</span><br><span class="line">        if (exif != null) &#123;</span><br><span class="line">            int ori = exif.getAttributeInt(ExifInterface.TAG_ORIENTATION,  ExifInterface.ORIENTATION_UNDEFINED);</span><br><span class="line">            switch (ori) &#123;</span><br><span class="line">                case ExifInterface.ORIENTATION_ROTATE_90:</span><br><span class="line">                    degree = 90;</span><br><span class="line">                    break;</span><br><span class="line">                case ExifInterface.ORIENTATION_ROTATE_180:</span><br><span class="line">                    degree = 180;</span><br><span class="line">                    break;</span><br><span class="line">                case ExifInterface.ORIENTATION_ROTATE_270:</span><br><span class="line">                    degree = 270;</span><br><span class="line">                    break;</span><br><span class="line">                default:</span><br><span class="line">                    degree = 0;</span><br><span class="line">                    break;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>
<h2 id="MD5加密"><a href="#MD5加密" class="headerlink" title="MD5加密"></a>MD5加密</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">char hexDigits[]=&#123;&apos;0&apos;,&apos;1&apos;,&apos;2&apos;,&apos;3&apos;,&apos;4&apos;,&apos;5&apos;,&apos;6&apos;,&apos;7&apos;,&apos;8&apos;,&apos;9&apos;,&apos;A&apos;,&apos;B&apos;,&apos;C&apos;,&apos;D&apos;,&apos;E&apos;,&apos;F&apos;&#125;;</span><br><span class="line">		try &#123;</span><br><span class="line">			byte[] btInput = s.getBytes();</span><br><span class="line">			// get MessageDigest Object</span><br><span class="line">			MessageDigest mdInst = MessageDigest.getInstance(&quot;MD5&quot;);</span><br><span class="line">			mdInst.update(btInput);</span><br><span class="line">			// get Ciphertext</span><br><span class="line">			byte[] md = mdInst.digest();</span><br><span class="line">			// Ciphertext to byte</span><br><span class="line">			int j = md.length;</span><br><span class="line">			char str[] = new char[j * 2];</span><br><span class="line">			int k = 0;</span><br><span class="line">			for (int i = 0; i &lt; j; i++) &#123;</span><br><span class="line">				byte byte0 = md[i];</span><br><span class="line">				str[k++] = hexDigits[byte0 &gt;&gt;&gt; 4 &amp; 0xf];</span><br><span class="line">				str[k++] = hexDigits[byte0 &amp; 0xf];</span><br><span class="line">			&#125;</span><br><span class="line">			return new String(str);</span><br><span class="line">		&#125; catch (Exception e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">			return &quot;0&quot;;</span><br><span class="line">		&#125;</span><br></pre></td></tr></table></figure>
<h2 id="监听锁屏开屏"><a href="#监听锁屏开屏" class="headerlink" title="监听锁屏开屏"></a>监听锁屏开屏</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">IntentFilter filter = new IntentFilter();</span><br><span class="line">      filter.addAction(Intent.ACTION_SCREEN_ON);//屏幕打开</span><br><span class="line">      filter.addAction(Intent.ACTION_SCREEN_OFF);//屏幕关闭</span><br><span class="line">      filter.addAction(Intent.ACTION_USER_PRESENT);//解锁</span><br><span class="line">      context.registerReceiver(receiver, filter);</span><br></pre></td></tr></table></figure>
<h2 id="直接判断屏幕是否关闭"><a href="#直接判断屏幕是否关闭" class="headerlink" title="直接判断屏幕是否关闭"></a>直接判断屏幕是否关闭</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">PowerManager pm = (PowerManager)context.getSystemService(Context.POWER_SERVICE);</span><br><span class="line">boolean isScreenOn = pm.isInteractive();</span><br></pre></td></tr></table></figure>
<h2 id="设置StatusBar颜色"><a href="#设置StatusBar颜色" class="headerlink" title="设置StatusBar颜色"></a>设置StatusBar颜色</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) &#123;</span><br><span class="line">           Window window = activity.getWindow();</span><br><span class="line">           window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS);</span><br><span class="line">           window.setStatusBarColor(ContextCompat.getColor(activity,colorId));</span><br><span class="line">       &#125;</span><br></pre></td></tr></table></figure>
<h2 id="设置StatusBar透明"><a href="#设置StatusBar透明" class="headerlink" title="设置StatusBar透明"></a>设置StatusBar透明</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) &#123;</span><br><span class="line">            activity.getWindow().addFlags(WindowManager.LayoutParams.FLAG_TRANSLUCENT_STATUS);</span><br><span class="line">            ((ViewGroup)activity.getWindow().getDecorView().findViewById(android.R.id.content)).getChildAt(0).setPadding(0, DeviceUtil.getStatusBarHeight(activity), 0, 0);</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>
<h2 id="设置MIUI状态栏主题"><a href="#设置MIUI状态栏主题" class="headerlink" title="设置MIUI状态栏主题"></a>设置MIUI状态栏主题</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">boolean result = false;</span><br><span class="line">       if (window != null) &#123;</span><br><span class="line">           Class clazz = window.getClass();</span><br><span class="line">           try &#123;</span><br><span class="line">               int darkModeFlag = 0;</span><br><span class="line">               Class layoutParams = Class.forName(&quot;android.view.MiuiWindowManager$LayoutParams&quot;);</span><br><span class="line">               Field field = layoutParams.getField(&quot;EXTRA_FLAG_STATUS_BAR_DARK_MODE&quot;);</span><br><span class="line">               darkModeFlag = field.getInt(layoutParams);</span><br><span class="line">               Method extraFlagField = clazz.getMethod(&quot;setExtraFlags&quot;, int.class, int.class);</span><br><span class="line">               if(dark)&#123;</span><br><span class="line">                   extraFlagField.invoke(window,darkModeFlag,darkModeFlag);//状态栏透明且黑色字体</span><br><span class="line">               &#125;else&#123;</span><br><span class="line">                   extraFlagField.invoke(window, 0, darkModeFlag);//清除黑色字体</span><br><span class="line">               &#125;</span><br><span class="line">               result=true;</span><br><span class="line">           &#125;catch (Exception e)&#123;</span><br><span class="line"></span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">       return result;</span><br></pre></td></tr></table></figure>
<h2 id="设置Flyme状态栏主题"><a href="#设置Flyme状态栏主题" class="headerlink" title="设置Flyme状态栏主题"></a>设置Flyme状态栏主题</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">boolean result = false;</span><br><span class="line">      if (window != null) &#123;</span><br><span class="line">          try &#123;</span><br><span class="line">              WindowManager.LayoutParams lp = window.getAttributes();</span><br><span class="line">              Field darkFlag = WindowManager.LayoutParams.class</span><br><span class="line">                      .getDeclaredField(&quot;MEIZU_FLAG_DARK_STATUS_BAR_ICON&quot;);</span><br><span class="line">              Field meizuFlags = WindowManager.LayoutParams.class</span><br><span class="line">                      .getDeclaredField(&quot;meizuFlags&quot;);</span><br><span class="line">              darkFlag.setAccessible(true);</span><br><span class="line">              meizuFlags.setAccessible(true);</span><br><span class="line">              int bit = darkFlag.getInt(null);</span><br><span class="line">              int value = meizuFlags.getInt(lp);</span><br><span class="line">              if (dark) &#123;</span><br><span class="line">                  value |= bit;</span><br><span class="line">              &#125; else &#123;</span><br><span class="line">                  value &amp;= ~bit;</span><br><span class="line">              &#125;</span><br><span class="line">              meizuFlags.setInt(lp, value);</span><br><span class="line">              window.setAttributes(lp);</span><br><span class="line">              result = true;</span><br><span class="line">          &#125; catch (Exception e) &#123;</span><br><span class="line"></span><br><span class="line">          &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      return result;</span><br></pre></td></tr></table></figure>
<h2 id="时间Long类型转固定格式"><a href="#时间Long类型转固定格式" class="headerlink" title="时间Long类型转固定格式"></a>时间Long类型转固定格式</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">SimpleDateFormat simpleDateFormat=new SimpleDateFormat(style, Locale.getDefault());</span><br><span class="line">return simpleDateFormat.format(new Date(time));</span><br></pre></td></tr></table></figure>
</div><div class="article-meta" style="max-width:800px"><div class="tags"><i class="icon icon-tag"></i><ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/tips和坑/">tips和坑</a><span class="tag-list-count">3</span></li></ul></div><div class="categories"><i class="icon icon-category"></i><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/tips和坑/">tips和坑</a><span class="category-list-count">3</span></li></ul></div></div><div class="article-comment" style="max-width:800px"><div class="ds-thread" id="ds-thread" data-thread-key="ck85r4tg60085c7o1gaxkbnt3" data-title="记录那些经常用却又打死记不住的代码(一)" data-url="https://earthwo.github.io/2017/07/20/记录那些经常用却又打死记不住的代码/" site-name="ueibo"></div><script>var siteName = document.getElementById('ds-thread').getAttribute('site-name');
var duoshuoQuery = {short_name: siteName};
(function() {
  var ds = document.createElement('script');
  ds.type = 'text/javascript';ds.async = true;
  ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
  ds.charset = 'UTF-8';
  (document.getElementsByTagName('head')[0] 
  || document.getElementsByTagName('body')[0]).appendChild(ds);
})();</script></div><ul class="navication"><li class="home"><a href="/"><i class="icon icon-home"></i></a></li><li><a href="/2017/07/24/《Android进阶之光》读书笔记（四）/"><i class="icon icon-arror-left"></i></a></li><li><a href="/2017/07/18/《Android进阶之光》读书笔记（三）/"><i class="icon icon-arror-right"></i></a></li></ul><div class="page-footer"><div class="top"><ul class="social"><li><a href="https://github.com/earthWo" title="Github" target="_blank"><i class="icon icon-github"></i></a></li></ul></div><div class="bottom"><p class="copyright">© 2020 alonealice<br><small><a href="http://www.miitbeian.gov.cn/" target="_blank">浙ICP备17033688号</a></small><small>, THEME BY <a href="https://github.com/BoizZ/hexo-theme-laughing" target="_blank">LAUGHING</a></small></p></div></div></div><script>var wrap = document.getElementById('wrap');
window.onload = function () {
  wrap.className += ' done';
}</script></body></html>